<main>
  <div class="container mx-auto">
    <header class="w-full flex justify-between">
      <h1 class="text-2xl font-bold text-label"> Transações </h1>

      <button mat-flat-button color="primary" class="w-max" (click)="createFinance()"> Adicionar Transação <i icon="arrow_up_arrow_down"></i> </button>
    </header>

    @if( !loading() ){
      <section class="container-tablet mt-6">
        <table mat-table [dataSource]="dataSource()">

          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Descrição </th>
            <td mat-cell *matCellDef="let element"> {{ element.description }} </td>
          </ng-container>

          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef> Tipo </th>
            <td mat-cell *matCellDef="let element"> {{ element.type | status }} </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef> Categoria </th>
            <td mat-cell *matCellDef="let element"> {{ element.category_obj?.name || '-' }} </td>
          </ng-container>

          <ng-container matColumnDef="expiry_date">
            <th mat-header-cell *matHeaderCellDef> Data </th>
            <td mat-cell *matCellDef="let element"> {{ element.expiry_date | date: 'dd MMM yyyy' }} </td>
          </ng-container>

          <ng-container matColumnDef="value_installment">
            <th mat-header-cell *matHeaderCellDef> Valor </th>
            <td mat-cell *matCellDef="let element"> {{ element.value_installment | currency }} </td>
          </ng-container>

          <tr *matNoDataRow>
            <td colspan="100%">
              <p>Nenhum resultado encontrado</p>
            </td>
          </tr>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </section>
    }
  </div>
</main>
